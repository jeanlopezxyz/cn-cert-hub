---
import Layout from '@/layouts/Layout.astro';
import { getPageI18n } from '@/i18n';
import { ANIMATION_DELAY, LAYOUT } from '@/app';
import Icon from '@/components/ui/Icon.astro';
import Button from '@/components/ui/Button.astro';

const { lang, t, basePath } = getPageI18n(Astro.url);

const MIN_HEIGHT = `calc(100vh - ${LAYOUT.HEADER_HEIGHT}px - ${LAYOUT.FOOTER_HEIGHT_APPROX}px)`;
---

<Layout title={`404 - ${t('notFound.title')}`} showSidebar={false} lang={lang} noIndex={true}>
  <div class="flex items-center justify-center px-4 py-8" style={`min-height: ${MIN_HEIGHT};`}>
    <div class="text-center max-w-2xl mx-auto">
      <!-- Animated 404 Icon -->
      <div class="relative mb-6">
        <div class="w-32 h-32 sm:w-40 sm:h-40 mx-auto relative">
          <!-- Glowing background -->
          <div
            class="absolute inset-0 bg-gradient-to-br from-primary-500/20 to-primary-600/20 rounded-full blur-2xl animate-pulse"
          >
          </div>

          <!-- Main icon container -->
          <div
            class="relative w-full h-full bg-gradient-to-br from-primary-500 to-primary-700 rounded-3xl flex items-center justify-center shadow-2xl shadow-primary-500/30 transform hover:scale-105 transition-transform duration-300"
          >
            <!-- Kubernetes-style hexagon pattern -->
            <svg class="absolute inset-0 w-full h-full opacity-10" viewBox="0 0 100 100">
              <pattern id="hex" width="20" height="17.32" patternUnits="userSpaceOnUse">
                <polygon
                  points="10,0 20,5.77 20,17.32 10,23.09 0,17.32 0,5.77"
                  fill="none"
                  stroke="white"
                  stroke-width="0.5"></polygon>
              </pattern>
              <rect width="100" height="100" fill="url(#hex)"></rect>
            </svg>

            <!-- 404 Text -->
            <span class="text-5xl font-bold text-white drop-shadow-lg">404</span>
          </div>
        </div>

        <!-- Floating particles -->
        <div
          class="absolute top-0 left-1/4 w-3 h-3 bg-primary-400 rounded-full animate-bounce opacity-60"
          style={`animation-delay: ${ANIMATION_DELAY.PARTICLE_1};`}
        >
        </div>
        <div
          class="absolute top-1/4 right-1/4 w-2 h-2 bg-primary-500 rounded-full animate-bounce opacity-40"
          style={`animation-delay: ${ANIMATION_DELAY.PARTICLE_2};`}
        >
        </div>
        <div
          class="absolute bottom-1/4 left-1/3 w-2 h-2 bg-primary-300 rounded-full animate-bounce opacity-50"
          style={`animation-delay: ${ANIMATION_DELAY.PARTICLE_3};`}
        >
        </div>
      </div>

      <!-- Message -->
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-neutral-900 dark:text-white mb-3">
        {t('notFound.title')}
      </h1>

      <p class="text-base text-neutral-600 dark:text-neutral-400 mb-6 max-w-md mx-auto">
        {t('notFound.description')}
      </p>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <Button href={`${basePath}/`} variant="primary" size="md" withScale={true} class="group">
          <span class="w-5 h-5 group-hover:-translate-x-1 transition-transform">
            <Icon name="arrowLeft" size="md" strokeWidth={2} />
          </span>
          {t('notFound.goHome')}
        </Button>

        <Button
          href={`${basePath}/#certifications`}
          variant="secondary"
          size="md"
          withScale={true}
          class="group"
        >
          <Icon name="badgeCheck" size="md" strokeWidth={2} />
          {t('notFound.viewCertifications')}
        </Button>
      </div>

      <!-- Helpful Links -->
      <div class="mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700">
        <p class="text-sm text-neutral-500 dark:text-neutral-500 mb-3">
          {t('notFound.quickLinks')}
        </p>
        <div class="flex flex-wrap justify-center gap-3 text-base">
          <a
            href={`${basePath}/achievements/kubestronaut`}
            class="text-primary-600 dark:text-primary-400 hover:underline"
          >
            {t('achievements.kubestronaut.title')}
          </a>
          <span class="text-neutral-300 dark:text-neutral-600">|</span>
          <a
            href={`${basePath}/achievements/golden-kubestronaut`}
            class="text-primary-600 dark:text-primary-400 hover:underline"
          >
            {t('achievements.golden.title')}
          </a>
        </div>
      </div>
    </div>
  </div>
</Layout>
